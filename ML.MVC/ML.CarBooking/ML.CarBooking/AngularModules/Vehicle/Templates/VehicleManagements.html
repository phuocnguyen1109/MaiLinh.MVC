<div ng-init="vm.initialize()">
    <h3>DANH SÁCH PHƯƠNG TIỆN</h3>
    <div class="w-100" style="float:right; margin-top:30px; margin-bottom:10px;">
        <div class="input-group" style="width:50%;">
            <input type="text" class="form-control bg-light small" placeholder="Tìm kiếm ..." aria-label="Search" aria-describedby="basic-addon2">
            <div class="input-group-append">
                <button class="btn btn-primary" type="button">
                    <i class="fas fa-search fa-sm"></i>
                </button>
            </div>
        </div>
    </div>
    <div>

        <table class="table table-bordered table-hover">
            <thead class="thead-light shadow_tb">
                <tr>
                    <th rowspan="2" style="width: 2%;"></th>
                    <th rowspan="2" style="width:2%">STT</th>
                    <th rowspan="2" style="width: 7%;">HIỆU XE</th>
                    <th rowspan="2" style="width: 5%;">SỐ CHỔ</th>
                    <th rowspan="2" style="width: 5%;">NĂM SẢN XUẤT</th>
                    <th rowspan="2" style="width: 5%;">MÀU XE</th>
                    <th rowspan="2" style="width: 10%;">LOẠI HÌNH KD</th>
                    <th rowspan="2" style="width: 5%;">VÙNG HOẠT ĐỘNG</th>
                    <th colspan="2" style="width: 20%;">NGÀY NHẬP XE</th>
                    <th colspan="2" style="width: 20%;">NGÀY THANH LÝ</th>
                    <th rowspan="2" style="width: 10%;">LÁI XE BẢO QUẢN</th>
                    <th rowspan="2" style="width: 10%;">SỐ KM BẢO DƯỠNG</th>
                </tr>
                <tr>
                    <th>NGÀY NHẬP</th>
                    <th>GHI CHÚ</th>
                    <th>NGÀY THANH LÝ</th>
                    <th>GHI CHÚ</th>
                </tr>

            </thead>
            <tbody>
                <tr ng-repeat="row in vm.vehicles">
                    <td><input type="checkbox" ng-model="row.selected" /></td>
                    <td>{{row.ID}}</td>
                    <td>{{row.HIEUXE}}</td>
                    <td>{{row.SO_CHO}}</td>
                    <td>{{row.NAM_SX}}</td>
                    <td>{{row.MAU_XE}}</td>
                    <td>{{row.LOAIHINH_KD}}</td>
                    <td>{{row.VUNG_HOAT_DONG}}</td>
                    <td>{{row.NGAY_NHAP}}</td>
                    <td>{{row.GHICHU_NGAY_NHAP}}</td>
                    <td>{{row.NGAY_THANHLY}}</td>
                    <td>{{row.GHICHU_NGAY_THANHLY}}</td>
                    <td>{{row.LAIXE_BAOQUAN}}</td>
                    <td>{{row.SO_KM_BAODUONG}}</td>
                </tr>
            </tbody>
        </table>
        <button class="btn btn-outline-success" data-toggle="modal" data-target="#AddVehicleModal">
            <i class="fas fa-fw fa fa-plus"></i> THÊM MỚI
        </button>

        <button class="btn btn-outline-success mr-1" ng-click="vm.gotoEdit()">
            <i class="fas fa-fw fa-pen"></i> CHỈNH SỬA
        </button>
        <button class="btn btn-outline-danger" ng-click="vm.remove()">
            <i class="fas fa-fw fa-trash"></i> XÓA
        </button>
    </div>
</div>

<div class="modal fade" id="AddVehicleModal" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="custom-modal-content">
            <div class="modal-body">
                <div>
                    <label>
                        HIỆU XE:
                        <select style="min-width: 100px; " class="form-control" ng-model="vm.selectedVehicleMaster" ng-change="vm.changeVehicleMaster()"
                                ng-options="t.HIEUXE for t in vm.all_VehicleMaster">
                        </select>
                    </label>

                    <label>
                        DÒNG XE:
                        <input type="text" class="form-control" ng-model="vm.vehicleModel.DONGXE" disabled />
                    </label>

                    <label>
                        CS XE:
                        <input type="text" class="form-control" ng-model="vm.vehicleModel.VT_HIEUXE" disabled />
                    </label>
                </div>
                <div>
                    <label>
                        ĐỜI XE:
                    </label>
                    <div style="width: 100%;">
                        <input type="number" class="form-control d-inline" style="width: 30%;" placeholder="Tháng" ng-change="vm.changeVehicleMaster()" ng-model="vm.vehicleModel.DOIXE_THANG" />
                        <input type="number" class="form-control d-inline" style="width: 30%;" placeholder="Năm" ng-change="vm.changeVehicleMaster()" ng-model="vm.vehicleModel.DOIXE_NAM" />
                        <input type="number" class="form-control d-inline" style="width: 30%;" disabled placeholder=" Thứ Tự" ng-model="vm.vehicleModel.THUTU" />
                    </div>
                </div>
                <div style="width: 50%; float: left;">
                    <label>
                        MÃ XE:
                    </label>
                    <input type="text" class="form-control d-inline" disabled ng-model="vm.vehicleModel.CODE" placeholder="Mã Xe" />
                </div>
                <div style="width: 40%; float: left; margin-left: 10px;">
                    <label>
                        SỐ CHỔ: 
                    </label>
                    <input type="number" class="form-control d-inline"  ng-model="vm.vehicleModel.SO_CHO" placeholder="Số Chổ" />
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-outline-primary" data-dismiss="modal" ng-click="vm.save()">Đồng ý</button>
            </div>
        </div>
    </div>
</div>



